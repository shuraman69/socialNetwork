(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){e.exports={header:"Header_header__1o74U"}},13:function(e,t,n){e.exports={nav:"Nav_nav__1Unw5",nav_item:"Nav_nav_item__2HK9T",active:"Nav_active__3wVx0",nav_link:"Nav_nav_link__19I1b",friends:"Nav_friends__2n_FL",avatar:"Nav_avatar__2FzZU",friends_items:"Nav_friends_items__3lQES"}},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},25:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3GWkc",dialogs_item:"Dialogs_dialogs_item__936lj",item:"Dialogs_item__Fvp1d",messages:"Dialogs_messages__NezJ2",message:"Dialogs_message__Qw3ui",active:"Dialogs_active__157rE",item_avatar:"Dialogs_item_avatar__2A-4B",message_item:"Dialogs_message_item__3Z1PB"}},286:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),r=n.n(a),i=n(66),c=n.n(i),o=(n(161),n(17)),u=n(18),l=n(20),j=n(19),d=(n(162),n(7)),f=(n(163),function(){return Object(s.jsx)("div",{children:"NEWS"})}),p=(n(164),function(){return Object(s.jsx)("div",{children:"Music"})}),b=(n(165),function(){return Object(s.jsx)("div",{children:"Settings"})}),h=n(25),O=n.n(h),g=n(14),m=function(e){return Object(s.jsxs)("div",{className:O.a.item+" "+O.a.active,children:[Object(s.jsx)("div",{className:O.a.item_avatar}),Object(s.jsx)(g.b,{to:"/dialogs/"+e.id,children:e.name})]})},v=function(e){return Object(s.jsxs)("div",{className:O.a.message_item,children:[Object(s.jsx)("div",{className:O.a.item_avatar}),Object(s.jsx)("div",{className:O.a.message,children:e.message})]})},x=n(122),_=n(123),k=n(3),w=n(130),P=n(53),N=n.n(P),y=function(e){return function(t){var n=t.input,a=t.meta,r=Object(w.a)(t,["input","meta"]),i=a.touched&&a.error;return Object(s.jsxs)("div",{className:N.a.formControl+" "+(i?N.a.error:""),children:[Object(s.jsx)("div",{children:Object(s.jsx)(e,Object(k.a)(Object(k.a)({},n),r))}),i&&Object(s.jsx)("span",{children:a.error})]})}},S=function(e){if(!e)return"Field if required "},C=function(e){return function(t){if(t&&t.length>e)return"Max lenght is "+e}},T=function(e){if("string"!=typeof e||!e.includes("@"))return e.includes("@")?void 0:"Write correct email"},D=C(10),A=y("Textarea"),E=Object(_.a)({form:"sendMessage"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)(x.a,{component:A,validate:[S,D],name:"message"}),Object(s.jsx)("button",{type:"submit",children:"Send messages"})]})})),I=function(e){return Object(s.jsx)(E,{onSubmit:function(t){e.sendMessage(t.message)}})},U=function(e){var t=e.dialogsPage.messagesData.map((function(e){return Object(s.jsx)(v,{message:e.message})})),n=e.dialogsPage.dialogsData.map((function(e){return Object(s.jsx)(m,{name:e.name,id:e.id})}));return Object(s.jsxs)("div",{className:O.a.dialogs,children:[Object(s.jsx)("div",{className:O.a.dialogs_item,children:n}),Object(s.jsxs)("div",{className:O.a.messages,children:[t,Object(s.jsx)(I,{sendMessage:e.sendMessage})]})]})},F=n(39),L="SEND-MESSAGE",M={dialogsData:[{id:"1",name:"Alex",color:"blue"},{id:"2",name:"Olga",color:"rose"},{id:"3",name:"Maks",color:"black"},{id:"3",name:"Maks",color:"red"}],messagesData:[{id:"1",message:"Hi"},{id:"2",message:"How is your it-kamasutra?"},{id:"3",message:"YoYoYo"}],newMessageText:" "},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(k.a)(Object(k.a)({},e),{},{messagesData:[].concat(Object(F.a)(e.messagesData),[{id:"4",message:t.message}])});default:return e}},R=n(8),H=n(10),W=function(e){return{isAuth:e.auth.isAuth}},B=Object(H.d)(Object(R.b)((function(e){return{dialogsPage:e.dialogsPage}}),{sendMessage:function(e){return{type:L,message:e}}}),(function(e){var t=function(t){Object(l.a)(a,t);var n=Object(j.a)(a);function a(){return Object(o.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(s.jsx)(e,Object(k.a)({},this.props)):Object(s.jsx)(d.a,{to:"/login"})}}]),a}(r.a.Component);return Object(R.b)(W)(t)}))(U),G=n(13),J=n.n(G),Y=function(e){var t=Object(R.c)((function(e){return e.auth.id}));return Object(s.jsxs)("div",{className:J.a.nav,children:[Object(s.jsxs)("nav",{className:J.a.nav_links,children:[Object(s.jsx)("div",{className:J.a.nav_link,children:Object(s.jsx)(g.b,{to:"/profile/"+t,className:J.a.nav_item,activeClassName:J.a.active,children:"Profile"})}),Object(s.jsx)("div",{className:J.a.nav_link,children:Object(s.jsx)(g.b,{to:"/music",className:J.a.nav_item,activeClassName:J.a.active,children:"Music"})}),Object(s.jsx)("div",{className:J.a.nav_link,children:Object(s.jsx)(g.b,{to:"/news",className:J.a.nav_item,activeClassName:J.a.active,children:"News"})}),Object(s.jsx)("div",{className:J.a.nav_link,children:Object(s.jsx)(g.b,{to:"/dialogs",className:J.a.nav_item,activeClassName:J.a.active,children:"Messages"})}),Object(s.jsx)("div",{className:J.a.nav_link,children:Object(s.jsx)(g.b,{to:"/settings",className:J.a.nav_item,activeClassName:J.a.active,children:"Settings"})}),Object(s.jsx)("div",{className:J.a.nav_link,children:Object(s.jsx)(g.b,{to:"/users",className:J.a.nav_item,activeClassName:J.a.active,children:"Users"})})]}),Object(s.jsxs)("div",{className:J.a.friends,children:[Object(s.jsx)("h2",{children:"Friends"}),e.navPage.friendsData.map((function(e){return Object(s.jsxs)("div",{className:J.a.friends_items,children:[Object(s.jsx)("div",{className:J.a.avatar}),Object(s.jsx)("div",{className:J.a.friend,children:e.name})]},e.name)}))]})]})},V=Object(R.b)((function(e){return{navPage:e.navPage,isAuth:e.auth.isAuth,id:e.auth.id}}),void 0)(Y),K=n(40),Z=n.n(K),q=n(57),Q=function(e){for(var t=e.totalCount,n=e.pageSize,r=e.currentPage,i=e.onPageChanged,c=Math.ceil(t/n),o=[],u=1;u<=c;u++)o.push(u);Math.ceil(c/5);var l=Object(a.useState)(1),j=Object(q.a)(l,2),d=j[0],f=(j[1],5*(d-1)+1);return Object(s.jsx)("div",{children:o.filter((function(e){return e>=f&&e<=25})).map((function(e){return Object(s.jsx)("span",{style:{marginRight:"5px"},className:r===e&&Z.a.selectedPage,onClick:function(){i(e)},children:e})}))})},X=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(Q,{totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.users.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:Z.a.user,children:[Object(s.jsxs)("div",{className:Z.a.img_block,children:[Object(s.jsx)(g.b,{to:"/profile/"+t.id,children:Object(s.jsx)("img",{className:Z.a.userPhoto,src:null!=t.photos.small?t.photos.small:"https://vk-wiki.ru/wp-content/uploads/2019/06/user-1.png",alt:""})}),Object(s.jsx)("div",{children:t.followed?Object(s.jsx)("button",{disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){return e.unfollowThunk(t.id)},children:"UNFOLLOW"}):Object(s.jsx)("button",{disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){return e.followThunk(t.id)},children:"FOLLOW"})})]}),Object(s.jsxs)("div",{className:Z.a.user_info,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:t.name}),Object(s.jsx)("div",{children:t.status})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"u.location.country"}),Object(s.jsx)("div",{children:"u.location.city"})]})]})]})},t.id)}))]})},$=n.p+"static/media/puff.2144d101.svg",ee=function(){return Object(s.jsx)("img",{src:$})},te=n(12),ne=n.n(te),se=n(16),ae=n(127).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"api-key":"840ecd6d-1708-4692-b01d-0a7a968f15b4"}}),re=function(e,t){return ae.get("users?page=".concat(e,"&count=").concat(t))},ie=function(e){return ae.delete("follow/".concat(e))},ce=function(e){return ae.post("follow/".concat(e))},oe=function(e){return ae.get("profile/"+e)},ue=function(e){var t=new FormData;return t.append("image.png",e,"avatar.png"),ae.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},le=function(){return ae.get("auth/me")},je=function(e,t,n){var s={email:e,password:t,rememberMe:n};return ae.post("auth/login",s)},de=function(){return ae.delete("auth/login")},fe=function(e){return ae.get("/profile/status/".concat(e))},pe=function(e){return ae.put("/profile/status/",{status:e})},be=function(e,t,n,s){return e.map((function(a){return a[s]===t?e(k.a)(e(k.a)({},a),n):a}))},he="FOLLOW",Oe="UNFOLLOW",ge="SET_USERS",me="SET_CURRENT_PAGE",ve="SET_TOTAL_USERS_COUNT",xe="PRELOADER",_e="TOGGLE_FOLLOWING_PROGRESS",ke={users:[],totalCount:60,pageSize:10,currentPage:1,isFetching:!1,followingProgress:[]};window.state=ke;var we,Pe=function(e){return{type:he,userId:e}},Ne=function(e){return{type:Oe,userId:e}},ye=function(e){return{type:me,currentPage:e}},Se=function(e){return{type:xe,isFetching:e}},Ce=function(e,t){return{type:_e,isProgress:e,id:t}},Te=function(e,t,n){return function(){var s=Object(se.a)(ne.a.mark((function s(a){return ne.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a(Ce(!0,t)),s.next=3,e(t);case 3:0===s.sent.data.resultCode&&a(n(t)),a(Ce(!1,t));case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(k.a)(Object(k.a)({},e),{},{users:be(e.users,t.userId,{followed:!0},"id")});case Oe:return Object(k.a)(Object(k.a)({},e),{},{users:be(e.users,t.userId,{followed:!1},"id")});case ge:return Object(k.a)(Object(k.a)({},e),{},{users:Object(F.a)(t.users)});case me:return Object(k.a)(Object(k.a)({},e),{},{currentPage:t.currentPage});case ve:return Object(k.a)(Object(k.a)({},e),{},{totalCount:t.totalCount});case xe:return Object(k.a)(Object(k.a)({},e),{},{isFetching:t.isFetching});case _e:return Object(k.a)(Object(k.a)({},e),{},{followingProgress:t.isProgress?[].concat(Object(F.a)(e.followingProgress),[t.id]):e.followingProgress.filter((function(e){return e!==t.id}))});default:return e}},Ae=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsersThunk(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(ee,{}):null,Object(s.jsx)(X,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,followingProgress:this.props.followingProgress,followThunk:this.props.followThunk,unfollowThunk:this.props.unfollowThunk})]})}}]),n}(r.a.Component),Ee=Object(R.b)((function(e){return{users:e.usersPage.users,totalCount:e.usersPage.totalCount,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,followingProgress:e.usersPage.followingProgress}}),{followSuccess:Pe,unfollowSuccess:Ne,preloader:Se,toggleFollowingProgress:Ce,getUsersThunk:function(e,t){return function(){var n=Object(se.a)(ne.a.mark((function n(s){var a;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(ye(e)),s(Se(!0)),n.next=4,re(e,t);case 4:a=n.sent,s(Se(!1)),s((i=a.data.totalCount,{type:ve,totalCount:i})),s((r=a.data.items,a.data.totalCount,{type:ge,users:r}));case 8:case"end":return n.stop()}var r,i}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunk:function(e){return Te(ce,e,Pe)},unfollowThunk:function(e){return Te(ie,e,Ne)}})(Ae),Ie=n(30),Ue=n.n(Ie),Fe=(r.a.Component,"SET_STATUS"),Le={status:""},Me=function(e){return{type:Fe,status:e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(k.a)(Object(k.a)({},e),{},{status:t.status});default:return e}},Re=function(e){var t=Object(a.useState)(!1),n=Object(q.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(e.status),o=Object(q.a)(c,2),u=o[0],l=o[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"STATUS"}),r?Object(s.jsx)("div",{children:Object(s.jsx)("input",{onChange:function(e){l(e.target.value)},onBlur:function(){i(!1),e.updateStatus(u)},value:u,autoFocus:!0})}):Object(s.jsx)("div",{children:Object(s.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"write something"})})]})},He=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(Re,{statusText:this.props.statusText,status:this.props.status,updateStatus:this.props.updateStatusThunk})}}]),n}(r.a.Component),We=Object(H.d)(d.f,Object(R.b)((function(e){return{status:e.status.status,statusText:e.status.statusText}}),{updateStatusThunk:function(e){return function(){var t=Object(se.a)(ne.a.mark((function t(n){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(e);case 2:0===t.sent.data.resultCode&&n(Me(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(He),Be=function(e){var t=Object(R.c)((function(e){return e.userProfilePage.isOwner}));if(!e.profile)return Object(s.jsx)(ee,{});return Object(s.jsxs)("div",{className:Ue.a.user_page,children:[Object(s.jsx)("div",{className:Ue.a.content_img,children:Object(s.jsx)("img",{className:Ue.a.content_img,src:"https://guruturizma.ru/wp-content/uploads/2014/07/Thailand-1.jpg"})}),Object(s.jsxs)("div",{className:Ue.a.logo_info,children:[Object(s.jsx)("img",{className:Ue.a.logo,src:e.profile.photos.small||"https://vk-wiki.ru/wp-content/uploads/2019/06/user-1.png",alt:""}),Object(s.jsxs)("div",{className:Ue.a.info,children:[Object(s.jsx)("div",{className:Ue.a.user_name,children:e.profile.fullName}),Object(s.jsxs)("div",{className:Ue.a.user_info,children:["Date of Birth:28.11.2000",Object(s.jsx)("br",{}),"City:Tver",Object(s.jsx)("br",{}),"Education:TvGU",Object(s.jsx)("br",{}),Object(s.jsx)(We,{}),Object(s.jsx)("br",{}),Object(s.jsx)("h2",{style:{margin:0},children:"SOCIAL"}),"WebSite:",e.profile.contacts.website,Object(s.jsx)("br",{}),"Twitter:",e.profile.contacts.twitter]})]}),Object(s.jsxs)("div",{children:[t&&Object(s.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),"Looking For A Job:",e.profile.lookingForAJob?Object(s.jsx)("img",{src:"https://media.tenor.com/images/7869871eef03e046040956a5a4f738c5/tenor.gif"}):Object(s.jsx)("img",{src:"https://i.gifer.com/2Nrh.gif"})]})]})]})},Ge=n(35),Je=n.n(Ge),Ye=C(10),Ve=y("Textarea"),Ke=Object(_.a)({form:"addPost"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)(x.a,{name:"postData",component:Ve,placeholder:"Write something...",validate:[S,Ye]}),Object(s.jsx)("button",{type:"submit",className:Je.a.addBtn,children:"Add"})]})})),Ze=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:Je.a.newPost,children:Object(s.jsx)(Ke,{onSubmit:function(t){e.addPost(t.postData)}})}),e.postData.map((function(e){return Object(s.jsxs)("div",{className:Je.a.postBlock,children:[Object(s.jsxs)("div",{className:Je.a.post,children:[Object(s.jsx)("div",{className:Je.a.avatar}),Object(s.jsx)("div",{className:Je.a.message,children:e.message})]}),Object(s.jsxs)("div",{className:Je.a.likes,children:["Likes: ",e.likesCount]})]},e.id)}))]})},qe="ADD-POST",Qe={postData:[{id:"1",message:"Hey!I use social network",likesCount:12},{id:"2",message:"Hey!It is my second post!",likesCount:14},{id:"3",message:"Hey!It is my first post!",likesCount:17},{id:"4",message:"Hey!",likesCount:4}]},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(k.a)(Object(k.a)({},e),{},{postData:[].concat(Object(F.a)(e.postData),[{id:"5",message:t.postData,likesCount:0}])});default:return e}},$e=Object(R.b)((function(e){return{profilePage:e.profilePage,postData:e.profilePage.postData}}),{addPost:function(e){return{type:qe,postData:e}}})(Ze),et="SET_USER",tt="SET_IS_OWNER",nt="UNSET_IS_OWNER",st="SAVE_PHOTO",at={profile:null,isOwner:!1},rt=function(e){return{type:et,user:e}},it=function(e){return{type:st,photos:e}},ct=function(){return{type:tt}},ot=function(){return{type:nt}},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return Object(k.a)(Object(k.a)({},e),{},{profile:t.user});case st:return Object(k.a)(Object(k.a)({},e),{},{profile:Object(k.a)(Object(k.a)({},e.profile),{},{photos:t.photos})});case tt:return Object(k.a)(Object(k.a)({},e),{},{isOwner:!0});case nt:return Object(k.a)(Object(k.a)({},e),{},{isOwner:!1});default:return e}},lt=function(e){return e.userProfilePage.profile},jt=function(e){return e.status.status},dt=function(e){return e.auth.id},ft=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;this.props.authUserId==e?this.props.setIsOwnerThunk():this.props.unSetIsOwnerThunk(),e||this.props.history.push("/login"),this.props.getUserThunk(e),this.props.getStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status}),e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(Be,Object(k.a)({savePhoto:this.props.savePhoto,profile:this.props.profile},this.props.profile)),Object(s.jsx)($e,{})]})}}]),n}(r.a.Component),pt=Object(H.d)(Object(R.b)((function(e){return{profile:lt(e),status:jt(e),authUserId:dt(e)}}),{getUserThunk:function(e){return function(){var t=Object(se.a)(ne.a.mark((function t(n){var s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e);case 2:s=t.sent,n(rt(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusThunk:function(e){return function(){var t=Object(se.a)(ne.a.mark((function t(n){var s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e);case 2:s=t.sent,n(Me(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setIsOwnerThunk:function(){return function(e){e(ct())}},unSetIsOwnerThunk:function(){return function(e){e(ot())}},savePhoto:function(e){return function(){var t=Object(se.a)(ne.a.mark((function t(n){var s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:s=t.sent,n(it(s.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)(ft),bt=n(42),ht="SET_AUTH_DATA",Ot={id:null,login:null,email:null,isAuth:!1},gt=function(){return function(){var e=Object(se.a)(ne.a.mark((function e(t){var n,s,a,r,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,a=s.id,r=s.login,i=s.email,t(mt(a,r,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},mt=function(e,t,n,s){return{type:ht,data:{id:e,login:t,email:n,isAuth:s}}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:return Object(k.a)(Object(k.a)(Object(k.a)({},e),t.data),{},{isAuth:t.data.isAuth});default:return e}},xt=n(128),_t=n.n(xt),kt=function(e){return Object(s.jsxs)("header",{className:_t.a.header,children:[Object(s.jsx)("img",{src:"https://c0.klipartz.com/pngpicture/468/798/sticker-png-logo-triangle-brand-euphoria-angle-triangle.png"}),Object(s.jsx)("h2",{children:"euphoriA"}),e.isAuth?Object(s.jsxs)("div",{children:[e.login,Object(s.jsx)("button",{onClick:e.logOutThunk,children:"LogOut"})]}):Object(s.jsx)(g.b,{to:"/login",children:"Login"})]})},wt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(kt,Object(k.a)({},this.props))}}]),n}(r.a.Component),Pt=Object(R.b)((function(e){return{login:e.auth.login,email:e.auth.email,isAuth:e.auth.isAuth}}),{logOutThunk:function(){return function(){var e=Object(se.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:0===e.sent.data.resultCode&&t(mt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(wt),Nt=(we=6,function(e){if(e&&e.length<we)return"Min lenght is "+we}),yt=y("input"),St=Object(_.a)({form:"login"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(x.a,{placeholder:"Login",validate:[S,T],name:"login",component:yt})}),Object(s.jsx)("div",{children:Object(s.jsx)(x.a,{placeholder:"Password",validate:[S,Nt],name:"password",component:yt})}),Object(s.jsxs)("div",{children:[Object(s.jsx)(x.a,{name:"checkbox",component:"input",type:"checkbox"})," Remember me"]}),e.error&&Object(s.jsx)("div",{className:N.a.formError,children:e.error}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"Submit"})})]})})),Ct=function(e){return e.isAuth?Object(s.jsx)(d.a,{to:"/profile/"+e.id}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Login"}),Object(s.jsx)(St,{onSubmit:function(t){var n=t.login,s=t.password,a=t.checkbox;e.loginThunk(n,s,a)}})]})};var Tt=Object(R.b)((function(e){return{isAuth:e.auth.isAuth,id:e.auth.id}}),{loginThunk:function(e,t,n){return function(){var s=Object(se.a)(ne.a.mark((function s(a){var r,i;return ne.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,je(e,t,n);case 2:0===(r=s.sent).data.resultCode?a(gt()):(i=r.data.messages.length>0?r.data.messages[0]:"Some error",a(Object(bt.a)("login",{_error:i})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})(Ct),Dt="SET_INITIALIZED",At={initialize:!1},Et=function(){return{type:Dt}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Object(k.a)(Object(k.a)({},e),{},{initialize:!0});default:return e}},Ut=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeThunk()}},{key:"render",value:function(){return this.props.initialize?Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(Pt,{}),Object(s.jsx)(V,{}),Object(s.jsxs)("div",{className:"app-wrapper-content",children:[Object(s.jsx)(d.b,{path:"/dialogs",render:function(){return Object(s.jsx)(B,{})}}),Object(s.jsx)(d.b,{path:"/profile/:userId",render:function(){return Object(s.jsx)(pt,{})}}),Object(s.jsx)(d.b,{path:"/news",render:function(){return Object(s.jsx)(f,{})}}),Object(s.jsx)(d.b,{path:"/music",render:function(){return Object(s.jsx)(p,{})}}),Object(s.jsx)(d.b,{path:"/settings",render:function(){return Object(s.jsx)(b,{})}}),Object(s.jsx)(d.b,{path:"/users",render:function(){return Object(s.jsx)(Ee,{})}}),Object(s.jsx)(d.b,{path:"/login",render:function(){return Object(s.jsx)(Tt,{})}})]})]}):Object(s.jsx)(ee,{})}}]),n}(r.a.Component),Ft=Object(H.d)(d.f,Object(R.b)((function(e){return{initialize:e.app.initialize}}),{initializeThunk:function(){return function(){var e=Object(se.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(gt());case 2:return n=e.sent,e.next=5,Promise.all([n]);case 5:t(Et());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Ut),Lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))},Mt={friendsData:[{name:"Alex"},{name:"Olga"},{name:"Maks"}]},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return e},Rt=n(129),Ht=n(124),Wt=Object(H.c)({profilePage:Xe,dialogsPage:z,navPage:zt,usersPage:De,userProfilePage:ut,auth:vt,status:ze,form:Ht.a,app:It}),Bt=Object(H.e)(Wt,Object(H.a)(Rt.a));window.store=Bt;var Gt=Bt;c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g.a,{children:Object(s.jsx)(R.a,{store:Gt,children:Object(s.jsx)(Ft,{})})})}),document.getElementById("root")),Lt()},30:function(e,t,n){e.exports={content_img:"ProfileInfo_content_img__2lwEC",logo_info:"ProfileInfo_logo_info__y8Xel",logo:"ProfileInfo_logo__387U8",info:"ProfileInfo_info__3eOvg",user_page:"ProfileInfo_user_page__2gyg3"}},35:function(e,t,n){e.exports={avatar:"Post_avatar__2APDq",post:"Post_post__1Nfbt",postBlock:"Post_postBlock__3eWoy",likes:"Post_likes__1HkFo"}},40:function(e,t,n){e.exports={user:"Users_user__3rHY-",userPhoto:"Users_userPhoto__YVd-M",user_info:"Users_user_info__2hbcG",img_block:"Users_img_block__3KK_P",follow_btn:"Users_follow_btn__2f5kV",selectedPage:"Users_selectedPage__1DHbM"}},53:function(e,t,n){e.exports={formControl:"FormControl_formControl__RhCuG",error:"FormControl_error__2pLUS",formError:"FormControl_formError__3a2Xh"}}},[[286,1,2]]]);
//# sourceMappingURL=main.aead3927.chunk.js.map